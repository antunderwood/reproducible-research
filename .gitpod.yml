# List the start up tasks. Learn more https://www.gitpod.io/docs/config-start-tasks/
tasks:
  - init: |
      docker-compose pull
  - name: Install Nextflow
    init: |
      curl -s https://get.nextflow.io | bash
      sudo mv nextflow /usr/local/bin
  - command: |
      export UID
      export GROUPS=$( id -g )
      make rocker-distill
    # Cannot export bash arrays (GROUPS)

ports:
  # Expose port for RStudio
  - port: 8787
    onOpen: open-browser
